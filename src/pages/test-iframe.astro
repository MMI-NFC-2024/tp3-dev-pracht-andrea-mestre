---
import Layout from "../layouts/Layout.astro";
---

<Layout>
    <main class="max-w-3xl mx-auto py-8">
            <h1 class="text-3xl font-bold mb-6 text-center">Test Iframe</h1>
        <div class="mb-6 flex justify-center">
            <select id="species-select" class="px-4 py-2 rounded bg-white border border-gray-300 text-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-300">
                <option value="Adelie">Adelie</option>
                <option value="Gentoo">Gentoo</option>
                <option value="Chinstrap">Chinstrap</option>
            </select>
        </div>
        <iframe
            id="species-frame"
            name="speciesFrame"
            src="/species/Adelie"
            class="w-full"
            style="height:510px; border:1px solid #ccc; border-radius:8px; box-shadow:0 2px 8px #0001;">
        </iframe>
        <script>
            document.querySelector('#species-select')?.addEventListener('change', (evt) => {
                const target = evt.target as HTMLSelectElement;
                const frame = document.getElementById('species-frame') as HTMLIFrameElement;
                if (target && frame) {
                    frame.src = '/species/' + target.value;
                }
            });
        </script>
    </main>
</Layout>
